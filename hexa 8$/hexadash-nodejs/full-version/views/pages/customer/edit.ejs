<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12">
            <div class="contact-breadcrumb">

                <div class="breadcrumb-main add-contact justify-content-sm-between ">
                    <div class=" d-flex flex-wrap justify-content-center breadcrumb-main__wrapper">
                        <div class="d-flex align-items-center add-contact__title justify-content-center me-sm-25">
                            <h4 class="text-capitalize fw-500 breadcrumb-title">Edit User</h4>
                            <span class="sub-title ms-sm-25 ps-sm-25"></span>
                        </div>
                        <div class="action-btn mt-sm-0 mt-15">
                            <a href="<%- locals.base %>customer/view-all/<%- locale %>" class="btn px-20 btn-primary ">
                                View All
                            </a>
                        </div>
                    </div>
                    
                </div>

            </div>
            <!-- ends: contact-breadcrumb -->
        </div>
    </div>

    <div class="card mb-50">
        <div class="row justify-content-center">
            <div class="col-md-5 col-10">
                <div class="mt-40 mb-50">
                    <div class="account-profile d-flex align-items-center mb-4 ">
                        <div class="ap-img pro_img_wrapper">
                            <input id="file-upload" type="file" name="fileUpload" class="d-none">
                            <!-- Profile picture image-->
                            <label for="file-upload">
                                <img class="ap-img__main rounded-circle wh-120 bg-lighter d-flex" id="previewImg" src="<%- customer.image ? customer.image : locals.base + 'img/author/profile.png' %>" alt="profile">
                                <span class="cross" id="remove_pro_pic">
                                    <img src="<%- locals.base %>img/svg/camera.svg" alt="camera" class="svg">
                                </span>
                            </label>
                        </div>
                        <div class="account-profile__title">
                            <h6 class="fs-15 ms-20 fw-500 text-capitalize">profile photo</h6>
                        </div>
                    </div>
                    <div class="edit-profile__body">
                        <form action="<%- locals.base %>customer/update/<%- customer.id %>/<%- locale %>" method="POST">
                            <input type="hidden" id="image" name="image" value="">
                            <div class="form-group mb-25">
                                <label for="name">name</label>
                                <input type="text" class="form-control" id="name" name="name" value="<%- customer.name %>">
                                <% if (locals.errors && locals.errors.name) { %> 
                                    <span class="text-danger"><%- errors.name %></span>
                                <% } %>
                            </div>
                            <div class="form-group mb-25">
                                <label for="email">Email</label>
                                <input type="email" class="form-control" id="email" name="email" disabled value="<%- customer.email %>">
                                <% if (locals.errors && locals.errors.email) { %> 
                                    <span class="text-danger"><%- errors.email %></span>
                                <% } %>
                            </div>
                            <div class="form-group mb-25">
                                <label for="phone">phone number</label>
                                <input type="tel" disabled class="form-control" id="phone" name="phone" value="<%- customer.phone %>">
                                <% if (locals.errors && locals.errors.phone) { %> 
                                    <span class="text-danger"><%- errors.phone %></span>
                                <% } %>
                            </div>
                            <div class="form-group mb-25">
                                <div class="countryOption">
                                    <label for="countryOption">
                                        country
                                    </label>
                                    <select class="js-example-basic-single js-states form-control" id="countryOption" name="countryOption">
                                        <option value="Bangladash" <%- customer.countryOption === 'Bangladash' ? 'selected':'' %>>Bangladash</option>
                                        <option value="India" <%- customer.countryOption === 'India' ? 'selected':'' %>>India</option>
                                        <option value="Pakistan" <%- customer.countryOption === 'Pakistan' ? 'selected':'' %>>Pakistan</option>
                                    </select>     
                                </div>                           
                                <% if (locals.errors && locals.errors.countryOption) { %> 
                                    <span class="text-danger"><%- errors.countryOption %></span>
                                <% } %>
                            </div>
                            <div class="form-group mb-25">
                                <div class="cityOption">
                                    <label for="cityOption">
                                        city
                                    </label>
                                    <select class="js-example-basic-single js-states form-control" id="cityOption" name="cityOption">
                                        <option value="Dhaka" <%- customer.cityOption === 'Dhaka' ? 'selected':'' %>>Dhaka</option>
                                        <option value="Barisal" <%- customer.cityOption === 'Barisal' ? 'selected':'' %>>Barisal</option>
                                        <option value="Sylet" <%- customer.cityOption === 'Sylet' ? 'selected':'' %>>Sylet</option>
                                    </select>                                
                                </div>
                                <% if (locals.errors && locals.errors.cityOption) { %> 
                                    <span class="text-danger"><%- errors.cityOption %></span>
                                <% } %>
                            </div>
                            <div class="form-group mb-25">
                                <label for="company">company name</label>
                                <input type="text" class="form-control" id="company" name="company" value="<%- customer.company %>">
                                <% if (locals.errors && locals.errors.company) { %> 
                                    <span class="text-danger"><%- errors.company %></span>
                                <% } %>
                            </div>
                            <div class="form-group mb-25">
                                <label for="position">Position</label>
                                <input type="text" class="form-control" id="position" name="position" value="<%- customer.position %>">
                                <% if (locals.errors && locals.errors.position) { %> 
                                    <span class="text-danger"><%- errors.position %></span>
                                <% } %>
                            </div>
                            <div class="form-group mb-25 form-group-calender">
                                <label for="datepicker">Joining Date</label>
                                <div class="position-relative">
                                    <input type="text" class="form-control" id="datepicker" name="join" value="<%- customer.join %>">
                                    <a href="#"><img class="svg" src="<%- locals.base %>img/svg/calendar.svg" alt="calendar"></a>
                                </div>
                                <% if (locals.errors && locals.errors.join) { %> 
                                    <span class="text-danger"><%- errors.join %></span>
                                <% } %>
                            </div>
                            <div class="form-group mb-25 status-radio">
                                <label class="mb-15" for="phoneNumber2">status</label>
                                <div class="d-flex">
                                    <div class="radio-horizontal-list d-flex flex-wrap">
                                        <div class="radio-theme-default custom-radio ">
                                            <input class="radio" type="radio" name="status" value="active" id="radio-hl1" <%- customer.status === 'active' ? 'checked':'' %>>
                                            <label for="radio-hl1">
                                                <span class="radio-text">active</span>
                                            </label>
                                        </div>
                                        <div class="radio-theme-default custom-radio ">
                                            <input class="radio" type="radio" name="status" value="deactivate" id="radio-hl2" <%- customer.status === 'deactivate' ? 'checked':'' %>>
                                            <label for="radio-hl2">
                                                <span class="radio-text">Deactivated</span>
                                            </label>
                                        </div>
                                        <div class="radio-theme-default custom-radio ">
                                            <input class="radio" type="radio" name="status" value="blocked" id="radio-hl3" <%- customer.status === 'blocked' ? 'checked':'' %>>
                                            <label for="radio-hl3">
                                                <span class="radio-text">bloked</span>
                                            </label>
                                        </div>


                                    </div>
                                </div>
                            </div>
                            <div class="button-group d-flex pt-25 justify-content-md-end justify-content-start">
                                <button class="btn btn-primary btn-default btn-squared text-capitalize radius-md shadow2 btn-sm">Update
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    var getImg = document.getElementById('file-upload');

    function openFile (file) {
    var input = file.target;

    var reader = new FileReader();
    reader.onload = function(){
      var dataURL = reader.result;      
      document.getElementById('previewImg').src = dataURL;              
      document.getElementById('image').value = dataURL;              
    };
    reader.readAsDataURL(input.files[0]);
  };
    
    getImg.addEventListener('change', openFile)
</script>